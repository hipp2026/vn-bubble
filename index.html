<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>D√≤ng ti·ªÅn ch·ª©ng kho√°n VN</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,Inter,Roboto;
  background:#0b0f1a;
  color:#e5e7eb;
}
header{ padding:12px 16px;font-size:18px;font-weight:600;}
.controls{ padding:0 16px 12px;}
button{
  background:#111827;border:1px solid #1f2937;
  color:#e5e7eb;padding:6px 10px;
  border-radius:8px;margin-right:6px;
}
button.active{ background:#2563eb;}
section{ padding:12px 16px;}
.card{
  background:#111827;border-radius:10px;
  padding:12px;margin-bottom:12px;
}
table{ width:100%;border-collapse:collapse;}
th,td{ padding:8px;text-align:right;font-size:14px;}
th{ color:#9ca3af;font-weight:500;}
td:first-child,th:first-child{ text-align:left;}
.up{ color:#22c55e;}
.down{ color:#ef4444;}
.tag{ padding:2px 6px;border-radius:6px;font-size:12px;}
.in{ background:#052e1b;color:#22c55e;}
.out{ background:#3f1d1d;color:#ef4444;}
</style>
</head>
<body>

<header>üìä D√≤ng ti·ªÅn ch·ª©ng kho√°n Vi·ªát Nam</header>

<div class="controls">
  <button onclick="setGroup('VN30')" class="active">VN30</button>
  <button onclick="setGroup('VN100')">VN100</button>
</div>

<section class="card" id="market"></section>

<section class="card">
<b>Top c·ªï phi·∫øu</b>
<table>
<thead>
<tr>
<th>M√£</th><th>GTGD</th><th>%</th><th>D√≤ng ti·ªÅn</th>
</tr>
</thead>
<tbody id="stocks"></tbody>
</table>
</section>

<script>
let DATA = {};
let current = "VN30";

function moneyTag(flow){
  if(flow==="IN") return '<span class="tag in">V√ÄO</span>';
  if(flow==="OUT") return '<span class="tag out">RA</span>';
  return "-";
}

async function loadData(){
  const res = await fetch("data.json");
  DATA = await res.json();
  render();
}

function render(){
  const d = DATA[current];

  market.innerHTML = `
    <b>${current}</b><br>
    D√≤ng ti·ªÅn: ${moneyTag(d.money)}<br>
    GTGD: <b>${d.total.toLocaleString()} t·ª∑</b>
  `;

  stocks.innerHTML = d.stocks.map(x=>`
    <tr>
      <td><b>${x.symbol}</b></td>
      <td>${x.value.toLocaleString()}</td>
      <td class="${x.change>0?'up':'down'}">
        ${x.change>0?'+':''}${x.change}%
      </td>
      <td>${moneyTag(x.flow)}</td>
    </tr>
  `).join("");
}

function setGroup(g){
  current = g;
  document.querySelectorAll("button").forEach(b=>b.classList.remove("active"));
  event.target.classList.add("active");
  render();
}

loadData();
</script>

</body>
</html>